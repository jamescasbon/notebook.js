(function(){var j,k,i,l,g,f=function(f,c){return function(){return f.apply(c,arguments)}},p=Object.prototype.hasOwnProperty,m=function(f,c){function b(){this.constructor=f}for(var n in c)p.call(c,n)&&(f[n]=c[n]);b.prototype=c.prototype;f.prototype=new b;f.__super__=c.prototype;return f};g="undefined"!==typeof exports&&null!==exports?exports:this;i=function(h){function c(){this.serialize=f(this.serialize,this);this.readyCells=f(this.readyCells,this);this.initialize=f(this.initialize,this);this.defaults=
f(this.defaults,this);c.__super__.constructor.apply(this,arguments)}m(c,h);c.prototype.defaults=function(){return{title:"untitled"}};c.prototype.initialize=function(){};c.prototype.readyCells=function(){this.cells=new k;return this.cells.localStorage=new Store("cells-"+this.get("id"))};c.prototype.serialize=function(){var b;b=this.toJSON();b.cells=this.cells.toJSON();return JSON.stringify(b)};return c}(Backbone.Model);l=function(f){function c(){c.__super__.constructor.apply(this,arguments)}m(c,f);
c.prototype.model=i;c.prototype.localStorage=new Store("notebook.js");return c}(Backbone.Collection);j=function(h){function c(){this.handleMessage=f(this.handleMessage,this);this.evaluateError=f(this.evaluateError,this);this.evaluateSuccess=f(this.evaluateSuccess,this);this.interrupt=f(this.interrupt,this);this.evaluate=f(this.evaluate,this);this.toggleInputFold=f(this.toggleInputFold,this);this.toggleType=f(this.toggleType,this);this.defaults=f(this.defaults,this);c.__super__.constructor.apply(this,
arguments)}m(c,h);c.prototype.tagName="li";c.prototype.defaults=function(){return{input:"",type:"javascript",inputFold:!1,output:null,position:null,error:null,state:null}};c.prototype.toggleType=function(){"javascript"===this.get("type")?this.set({type:"markdown"}):this.set({type:"javascript"});return this.set({state:"dirty"})};c.prototype.toggleInputFold=function(){this.set({inputFold:!this.get("inputFold")});return this.save()};c.prototype.evaluate=function(){this.set({output:null,error:null});
this.set({state:"evaluating"});this.save();this.handler=g.engines[this.get("type")];return this.handler.evaluate(this.get("input"),this)};c.prototype.interrupt=function(){if(null!=this.handler)return this.onPrint("Interrupted","error"),this.handler.interrupt(),this.set({state:null}),this.save()};c.prototype.evaluateSuccess=function(b){this.set({output:b,error:null});return this.save()};c.prototype.evaluateError=function(b){this.set({error:b});return this.save};c.prototype.handleMessage=function(b){switch(b.msg){case "evalEnd":return this.set({state:null}),
this.save();case "error":return this.onPrint(b.data,"error");case "print":return this.onPrint(b.data,"print");case "result":return this.onPrint(b.data,"print");case "raw":return this.onPrint(b.data,"raw")}};c.prototype.onError=function(b){return this.set({error:b})};c.prototype.onPrint=function(b,c){return this.set({output:(this.get("output")||"").concat('<div class="'+c+'">'+b+"</div>")})};return c}(Backbone.Model);k=function(h){function c(){this.comparator=f(this.comparator,this);c.__super__.constructor.apply(this,
arguments)}m(c,h);c.prototype.model=j;c.prototype.posJump=Math.pow(2,16);c.prototype.comparator=function(b,c){b=b.get("position");c=c.get("position");return b>c?1:b<c?-1:0};c.prototype.createAtEnd=function(){return this.create({position:this.length?this.at(this.length-1).get("position")+this.posJump:this.posJump})};c.prototype.createBefore=function(b){var c;c=this.indexOf(b);b=b.get("position");c=0===c?0:this.at(c-1).get("position");return this.create({position:(b+c)/2})};return c}(Backbone.Collection);
g.Notebook=i;g.Cell=j;g.Notebooks=l;g.Cells=k}).call(this);(function(){var j,k,i,l,g=function(f,g){return function(){return f.apply(g,arguments)}};l="undefined"!==typeof exports&&null!==exports?exports:this;(function(){function f(){this.evaluate=g(this.evaluate,this)}f.prototype.evaluate=function(f,g){var h;try{if(h=eval(f),null!=h)return console.log("result",h),g.handleMessage({msg:"result",data:h.toString()})}catch(c){return console.log(c.message,c.stack),g.handleMessage({msg:"error",data:c.toString()})}finally{g.handleMessage({msg:"evalEnd"})}};return f})();
j=function(){function f(){this.evaluate=g(this.evaluate,this)}f.prototype.evaluate=function(f,g){var h,c;try{return c=new Showdown.converter,h=c.makeHtml(f),g.handleMessage({msg:"raw",data:h})}catch(b){return console.log(b.message),onErr(b.message)}finally{g.handleMessage({msg:"evalEnd"})}};return f}();k=function(){function f(){this.interrupt=g(this.interrupt,this);this.handleMessage=g(this.handleMessage,this);this.evaluate=g(this.evaluate,this);this.worker=new Worker("/src/worker.js");this.worker.onmessage=
this.handleMessage;this.inputId=0;this.handlers={}}f.prototype.evaluate=function(f,g){this.inputId+=1;this.handlers[this.inputId]=g;return this.worker.postMessage({src:f,id:this.inputId})};f.prototype.handleMessage=function(f){return this.handlers[f.data.inputId].handleMessage(f.data)};f.prototype.interrupt=function(){this.worker.terminate();this.worker=new Worker("/src/worker.js");return this.worker.onmessage=this.handleMessage};return f}();i={};i.javascript=new k;i.markdown=new j;l.engines=i}).call(this);(function(){var j,k,i,l,g,f,p,m,h,c,b,n,s,r,q,e=function(b,a){return function(){return b.apply(a,arguments)}},t=Object.prototype.hasOwnProperty,o=function(b,a){function d(){this.constructor=b}for(var c in a)t.call(a,c)&&(b[c]=a[c]);d.prototype=a.prototype;b.prototype=new d;b.__super__=a.prototype;return b};_.templateSettings={interpolate:/\[\[=(.+?)\]\]/g,evaluate:/\[\[(.+?)\]\]/g};b="undefined"!==typeof exports&&null!==exports?exports:this;m=function(b){var a,d,c;d=$(window).scrollTop()+60;a=$(window).scrollTop()+
$(window).height()-30;c=b.offset().top;return c+b.height()<=a&&c>=d};r=function(b){b=b.offset().top-90;console.log("stat",b);return $(window).scrollTop(b)};s=function(b){b=b.offset().top+b.height()+60-$(window).height();console.log("stab",b);return $("body").scrollTop(b)};j=function(b){function a(){this.generateToc=e(this.generateToc,this);this.typeset=e(this.typeset,this);this.saveToFile=e(this.saveToFile,this);this.mathjaxReady=e(this.mathjaxReady,this);this.handleTocJump=e(this.handleTocJump,this);
a.__super__.constructor.apply(this,arguments)}o(a,b);a.prototype.className="app";a.prototype.handleTocJump=function(d){console.log("gt",d);window.e=d;if(d=$(d.target).attr("href"))return console.log("gt",d),d=$("#"+d),r(d)};a.prototype.mathjaxReady=function(){console.log("mjr");return this.typeset()};a.prototype.saveToFile=function(){return n(this.model.serialize())};a.prototype.typeset=function(){var d,a,b,c;console.log("typeset");prettyPrint();c=this.$("#notebook");a=0;for(b=c.length;a<b;a++)d=
c[a],console.log("tp",d),MathJax.Hub.Typeset(d);return this.$("#toc").html(this.generateToc())};a.prototype.generateToc=function(){var d;d=$(document.createElement("div"));this.$(".cell").each(function(a,b){var c;c=$(document.createElement("div")).appendTo(d);c.addClass("toc-cell");c.attr("href",$(b).attr("id"));return $(b).find("h1, h2, h3").each(function(b,c){var e,f;f="title"+a+"_"+b;$(c).attr("id",f);e=$(document.createElement("div"));e.addClass(c.tagName);e.addClass("toc-entry");e.attr("href",
f);e.html($(c).html());return d.append(e)})});return d};return a}(Backbone.View);p=function(c){function a(){this.renderCell=e(this.renderCell,this);this.addAll=e(this.addAll,this);this.addOne=e(this.addOne,this);this.render=e(this.render,this);this.initialize=e(this.initialize,this);this.toggleEdit=e(this.toggleEdit,this);a.__super__.constructor.apply(this,arguments)}o(a,c);a.prototype.events={"click #toc":"handleTocJump","click #toggle-edit":"toggleEdit","click #save-to-file":"saveToFile"};a.prototype.toggleEdit=
function(){return b.router.navigate(this.model.get("id")+"/edit/",{trigger:!0})};a.prototype.initialize=function(){this.template=_.template($("#notebook-template").html());this.cellTemplate=_.template($("#cell-view-template").html());$(".container").append(this.render());this.cells=this.$(".cells");console.log(this.cells);this.model.cells.fetch({success:this.addAll});if(b.mathjaxReady)return this.typeset()};a.prototype.render=function(){$(this.el).html(this.template());return this.el};a.prototype.addOne=
function(d){return this.cells.append(this.renderCell(d))};a.prototype.addAll=function(d){return d.each(this.addOne)};a.prototype.renderCell=function(d){d=d.toJSON();d.input=d.input.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return this.cellTemplate(d)};return a}(j);i=function(c){function a(){this.saveToFile=e(this.saveToFile,this);this.toggleEdit=e(this.toggleEdit,this);this.spawnKeypress=e(this.spawnKeypress,this);this.spawnCellAtEnd=e(this.spawnCellAtEnd,this);this.addAll=e(this.addAll,
this);this.addOne=e(this.addOne,this);this.render=e(this.render,this);this.initialize=e(this.initialize,this);this.events=e(this.events,this);a.__super__.constructor.apply(this,arguments)}o(a,c);a.prototype.events=function(){return{"click #toc":"handleTocJump","dblclick #spawner":"spawnCellAtEnd","keyup #spawner":"spawnKeypress","click #toggle-edit":"toggleEdit","click #save-to-file":"saveToFile"}};a.prototype.initialize=function(){this.template=_.template($("#notebook-template").html());$(".container").append(this.render());
this.cells=this.$(".cells");this.model.cells.bind("add",this.addOne);this.model.cells.bind("refresh",this.addAll);this.model.cells.fetch({success:this.addAll});if(b.mathjaxReady)return console.log("calling typeset at init"),this.typeset()};a.prototype.render=function(){$(this.el).html(this.template());return this.el};a.prototype.addOne=function(d){var a,c;b.c=d;c=new k({model:d});a=c.render();d=this.model.cells.indexOf(d);0===d?this.cells.prepend(a):(d=this.model.cells.at(d-1),d=d.view,$(d.el).after(a));
c.afterDomInsert();return c.focusInput()};a.prototype.addAll=function(d){return d.each(this.addOne)};a.prototype.spawnCellAtEnd=function(){return this.model.cells.createAtEnd()};a.prototype.spawnKeypress=function(d){if(13===d.keyCode)return this.model.cells.createAtEnd();if(38===d.keyCode)return d=this.model.cells.length,this.model.cells.at(d-1).view.output.focus()};a.prototype.toggleEdit=function(){return b.router.navigate(this.model.get("id")+"/view/",{trigger:!0})};a.prototype.saveToFile=function(){return n(this.model.serialize())};
return a}(j);k=function(c){function a(){this.resizeEditor=e(this.resizeEditor,this);this.inputChange=e(this.inputChange,this);this.toggle=e(this.toggle,this);this.spawnAbove=e(this.spawnAbove,this);this.remove=e(this.remove,this);this.interrupt=e(this.interrupt,this);this.destroy=e(this.destroy,this);this.evaluate=e(this.evaluate,this);this.setEditorHighlightMode=e(this.setEditorHighlightMode,this);this.focusCellBelow=e(this.focusCellBelow,this);this.focusCellAbove=e(this.focusCellAbove,this);this.blurInput=
e(this.blurInput,this);this.focusInput=e(this.focusInput,this);this.changeInputFold=e(this.changeInputFold,this);this.toggleInputFold=e(this.toggleInputFold,this);this.handleKeypress=e(this.handleKeypress,this);this.afterDomInsert=e(this.afterDomInsert,this);this.changeState=e(this.changeState,this);this.changeOutput=e(this.changeOutput,this);this.changeType=e(this.changeType,this);this.render=e(this.render,this);this.logev=e(this.logev,this);this.initialize=e(this.initialize,this);this.events=e(this.events,
this);a.__super__.constructor.apply(this,arguments)}o(a,c);a.prototype.tagName="li";a.prototype.events=function(){return{"keyup .spawn-above":"handleKeypress","dblclick .spawn-above":"spawnAbove","click .evaluate":"evaluate","click .delete":"destroy","click .toggle":"toggle","click .type":"toggle","click .fold-button":"toggleInputFold","dblclick .cell-output":"toggleInputFold",evaluate:"evaluate",toggle:"toggle","click .interrupt":"interrupt","keyup .cell-output":"handleKeypress","focus .cell-input":"focusInput",
"blur .cell-input":"blurInput"}};a.prototype.initialize=function(){this.template=_.template($("#cell-edit-template").html());this.model.bind("change:state",this.changeState);this.model.bind("change:type",this.changeType);this.model.bind("change:output",this.changeOutput);this.model.bind("change:inputFold",this.changeInputFold);this.model.bind("destroy",this.remove);this.model.view=this;return this.editor=null};a.prototype.logev=function(d){return console.log("in ev",d)};a.prototype.render=function(){var d;
null==this.editor&&(d=this.model.toJSON(),null==this.model.id&&(d.id=this.model.cid),$(this.el).html(this.template(d)),this.spawn=this.$(".spawn-above"),this.input=this.$(".cell-input"),this.output=this.$(".cell-output"),this.inputContainer=this.$(".ace-container"),this.type=this.$(".type"),this.intButton=this.$(".interrupt"),this.evalButton=this.$(".evaluate"));return this.el};a.prototype.changeType=function(){this.setEditorHighlightMode();return this.type.html(this.model.get("type"))};a.prototype.changeOutput=
function(){this.output.html(this.model.get("output"));if(b.mathjaxReady)return MathJax.Hub.Typeset(this.output[0])};a.prototype.changeState=function(){switch(this.model.get("state")){case "evaluating":return this.output.html("..."),this.intButton.addClass("active"),this.evalButton.removeClass("active");case "dirty":return this.evalButton.addClass("active");case null:return this.intButton.removeClass("active")}};a.prototype.afterDomInsert=function(){var d,a,b,c=this;this.editor=ace.edit("input-"+(null!=
this.model.id?this.model.id:this.model.cid));this.model.set({state:null});this.editor.getSession().setUseWrapMode(!0);this.editor.renderer.setShowGutter(!1);this.editor.renderer.setHScrollBarAlwaysVisible(!1);this.editor.renderer.setShowPrintMargin(!1);this.editor.setHighlightActiveLine(!1);this.$(".ace_sb").css({display:"none"});this.resizeEditor();this.editor.getSession().on("change",this.inputChange);this.setEditorHighlightMode();a=this.model.get("input");d=Math.max(3-_.string.count(a,"\n"),0);
console.log("crs");b=_.range(d);d=0;for(b=b.length;d<b;d++)a+="\n";this.editor.getSession().setValue(a);this.model.get("inputFold")&&this.changeInputFold();this.editor.commands.addCommand({name:"evaluate",bindKey:{win:"Ctrl-E",mac:"Command-E",sender:"editor"},exec:function(){return c.evaluate()}});this.editor.commands.addCommand({name:"toggleMode",bindKey:{win:"Ctrl-M",mac:"Command-M",sender:"editor"},exec:function(){return c.toggle()}});this.editor.commands.addCommand({name:"interrupt",bindKey:{win:"Ctrl-C",
mac:"Ctrl-C",sender:"editor"},exec:function(){return c.interrupt()}});this.editor.commands.addCommand({name:"golineup",bindKey:{win:"Up",mac:"Up|Ctrl-P",sender:"editor"},exec:function(d,a){var b;b=c.$(".ace_cursor");m(b)||r(b);return 0===d.getSession().getSelection().getCursor().row?(c.spawn.focus(),c.rogueKeyup=!0):d.navigateUp(a.times)}});this.editor.commands.addCommand({name:"golinedown",bindKey:{win:"Down",mac:"Down",sender:"editor"},exec:function(d,a){var b,e;b=c.$(".ace_cursor");m(b)||s(b);
e=d.getSession().getSelection().getCursor().row;b=c.editor.getSession().getDocument().getLength()-1;return e===b?(c.output.focus(),c.rogueKeyup=!0):d.navigateDown(a.times)}});return this.editor.commands.addCommand({name:"backspace",bindKey:{win:"Backspace",mac:"Backspace",sender:"editor"},exec:function(d){d=d.getSession();return 1===d.getLength()&&""===d.getValue()?c.destroy():c.editor.remove("left")}})};a.prototype.handleKeypress=function(d){var a,b;if(!0===this.rogueKeyup)this.rogueKeyup=!1;else if(a=
this.model.get("inputFold"),b=d.target.className,38===d.keyCode)switch(b){case "cell-output":return a?this.spawn.focus():this.focusInput("bottom");case "spawn-above":return this.focusCellAbove()}else if(40===d.keyCode)switch(b){case "cell-output":return this.focusCellBelow();case "spawn-above":return a?this.output.focus():this.focusInput("top")}else if(13===d.keyCode)switch(b){case "spawn-above":return this.spawnAbove();case "cell-output":return this.toggleInputFold()}};a.prototype.toggleInputFold=
function(){return this.model.toggleInputFold()};a.prototype.changeInputFold=function(){this.inputContainer.toggleClass("input-fold");this.$(".fold-button").toggleClass("input-fold");return this.$("hr").toggleClass("input-fold")};a.prototype.focusInput=function(d){"top"===d?(this.editor.gotoLine(1),this.editor.focus()):"bottom"===d&&(this.editor.gotoLine(this.editor.getSession().getDocument().getLength()),this.editor.focus());if(null!=this.editor)return this.editor.setHighlightActiveLine(!0),this.$(".ace_cursor-layer").show()};
a.prototype.blurInput=function(){if(null!=this.editor)return this.editor.setHighlightActiveLine(!1),this.$(".ace_cursor-layer").hide()};a.prototype.focusCellAbove=function(){var d;d=this.model.collection.at(this.model.collection.indexOf(this.model)-1);if(null!=d)return d.view.output.focus()};a.prototype.focusCellBelow=function(){var d;d=this.model.collection.at(this.model.collection.indexOf(this.model)+1);return null!=d?d.view.spawn.focus():$("#spawner").focus()};a.prototype.setEditorHighlightMode=
function(){var d;"javascript"===this.model.get("type")?d=require("ace/mode/javascript").Mode:"markdown"===this.model.get("type")&&(d=require("ace/mode/markdown").Mode);if(null!=d)return this.editor.getSession().setMode(new d)};a.prototype.evaluate=function(){this.model.set({input:this.editor.getSession().getValue()});return this.model.evaluate()};a.prototype.destroy=function(){return this.model.destroy()};a.prototype.interrupt=function(){return this.model.interrupt()};a.prototype.remove=function(){return $(this.el).fadeOut("fast",
$(this.el).remove)};a.prototype.spawnAbove=function(){return this.model.collection.createBefore(this.model)};a.prototype.toggle=function(){return this.model.toggleType()};a.prototype.inputChange=function(){this.model.set({state:"dirty"});return this.resizeEditor()};a.prototype.resizeEditor=function(){var d,a;d=this.editor.renderer.$textLayer.getLineHeight();a=this.editor.getSession().getScreenLength();if(1===d)setTimeout(this.resizeEditor,200);else return this.$(".ace-container").height(20+d*a),this.editor.resize()};
return a}(Backbone.View);l=function(c){function a(){this.mathjaxReady=e(this.mathjaxReady,this);this.loadFile=e(this.loadFile,this);this["new"]=e(this["new"],this);this.addNbs=e(this.addNbs,this);this.addNb=e(this.addNb,this);this.render=e(this.render,this);this.initialize=e(this.initialize,this);a.__super__.constructor.apply(this,arguments)}o(a,c);a.prototype.className="app";a.prototype.events={"click #new-notebook-button":"new","change #load-file":"loadFile"};a.prototype.initialize=function(){this.template=
_.template($("#index-template").html());$(".container").append(this.render());return this.addNbs()};a.prototype.render=function(){$(this.el).html(this.template());return this.el};a.prototype.addNb=function(d){return $("#notebooks").append(this.nbtemplate(d.toJSON()))};a.prototype.addNbs=function(){this.nbtemplate=_.template($("#notebook-index-template").html());return b.notebooks.each(this.addNb)};a.prototype["new"]=function(){console.log("new");return b.router.navigate("new/",{trigger:!0})};a.prototype.loadFile=
function(d){var a,d=d.target.files[0];a=new FileReader;a.onload=function(a){a=JSON.parse(a.target.result);a=h(a);return b.router.navigate(a.get("id")+"/view/",{trigger:!0})};return a.readAsText(d)};a.prototype.mathjaxReady=function(){};return a}(Backbone.View);g=function(c){function a(){this.mathjaxReady=e(this.mathjaxReady,this);this.create=e(this.create,this);this.render=e(this.render,this);this.initialize=e(this.initialize,this);a.__super__.constructor.apply(this,arguments)}o(a,c);a.prototype.className=
"app";a.prototype.events={"click button":"create"};a.prototype.initialize=function(){this.template=_.template($("#new-notebook-form").html());return $(".container").append(this.render())};a.prototype.render=function(){$(this.el).html(this.template());return this.el};a.prototype.create=function(){var a;a=b.notebooks.create({title:this.$("input").val()});a.readyCells();a.cells.create({position:a.cells.posJump});return b.router.navigate(a.id+"/edit/",{trigger:!0})};a.prototype.mathjaxReady=function(){};
return a}(Backbone.View);f=function(c){function a(){this.loadUrl=e(this.loadUrl,this);this.index=e(this.index,this);this["new"]=e(this["new"],this);this["delete"]=e(this["delete"],this);this.view=e(this.view,this);this.edit=e(this.edit,this);this.getNotebook=e(this.getNotebook,this);this.unmatched=e(this.unmatched,this);a.__super__.constructor.apply(this,arguments)}o(a,c);a.prototype.routes={":nb/edit/":"edit",":nb/view/":"view",":nb/delete/":"delete","load/*url":"loadUrl","new/":"new","":"index",
"*p":"unmatched"};a.prototype.unmatched=function(a){return console.log(a)};a.prototype.getNotebook=function(a){a=b.notebooks.get(a);a.readyCells();b.nb=a;console.log("notebook loaded; id="+a.get("id"));return a};a.prototype.edit=function(a){b.app&&b.app.remove();console.log("activated edit route",a);a=this.getNotebook(a);b.app=new i({model:a});return q(a.get("title")+" (Editing)")};a.prototype.view=function(a){b.app&&b.app.remove();console.log("activated view route");a=this.getNotebook(a);q(a.get("title")+
" (Viewing)");return b.app=new p({model:a})};a.prototype["delete"]=function(a){console.log("deleting nb",a);confirm("You really want to delete that?")&&(a=this.getNotebook(a),a.cells.fetch({success:function(a){return a.each(function(a){console.log("destroy",a);return a.destroy()})}}),console.log("cells",a.cells.length),a.destroy(),console.log("deleted"));return b.router.navigate("",{trigger:!0})};a.prototype["new"]=function(){console.log("new view");b.app&&b.app.remove();return b.app=new g};a.prototype.index=
function(){b.app&&(b.app.remove(),b.nb=null);console.log("index view");q("");return b.app=new l};a.prototype.loadUrl=function(a){console.log("loading url");return $.getJSON(a,function(a){a=h(a);return b.router.navigate(a.get("id")+"/view/",{trigger:!0})})};return a}(Backbone.Router);q=function(b){return $("#title").html(b)};n=function(b){return window.open("data:text/json;filename=data.json;charset=utf-8,"+escape(b))};h=function(c){var a,d,e,f,g,h;d=c.cells;delete c.cells;c.title=c.title;try{console.log("import notebook");
e=b.notebooks.create(c);e.readyCells();f=function(a){return e.cells.create(a)};g=0;for(h=d.length;g<h;g++)a=d[g],f(a);return e}catch(i){return alert("Could not import notebook probably because it already exists.  try deleting"),console.log(i)}};c=function(){b.mathjaxReady=!0;return b.app.mathjaxReady()};$(document).ready(function(){console.log("creating app");b.notebooks=new Notebooks;b.notebooks.fetch();b.mathjaxReady=!1;b.router=new f;Backbone.history.start();return MathJax.Hub.Register.StartupHook("End",
c)})}).call(this);
